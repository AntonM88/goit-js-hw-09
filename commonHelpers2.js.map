{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst formElem = document.querySelector('.feedback-form');\nconst formData = { email: '', message: '' };\n\nformElem.addEventListener('input', e => {\n  const value = e.target.value.trim();\n  formData[e.target.name] = value;\n  saveFormData(STORAGE_KEY, formData);\n});\n\nformElem.addEventListener('submit', e => {\n  e.preventDefault();\n  if (correctForm()) {\n    console.log(formData);\n    clearFormData();\n  } else {\n    noCorrectForm();\n  }\n});\n\nfunction saveFormData(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nfunction loadFromData(key) {\n  const data = localStorage.getItem(key);\n  try {\n    const result = JSON.parse(data);\n    return result;\n  } catch (err) {\n    return data;\n  }\n}\n\nfunction clearFormData() {\n  formData.email = '';\n  formData.message = '';\n  formElem.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction correctForm() {\n  return formData.email.trim() !== '' && formData.message.trim() !== '';\n}\n\nfunction noCorrectForm() {\n  alert('Fill please all fields');\n}\n\n// ========================================\nfunction init() {\n  const storedData = loadFromData(STORAGE_KEY);\n  if (storedData) {\n    formData.email = storedData.email || '';\n    formData.message = storedData.message || '';\n    formElem.elements.email.value = formData.email;\n    formElem.elements.message.value = formData.message;\n  }\n}\ninit();\n"],"names":["STORAGE_KEY","formElem","formData","value","saveFormData","correctForm","clearFormData","noCorrectForm","key","json","loadFromData","data","init","storedData"],"mappings":"oDAAA,MAAMA,EAAc,sBACdC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEzCD,EAAS,iBAAiB,QAAS,GAAK,CACtC,MAAME,EAAQ,EAAE,OAAO,MAAM,KAAI,EACjCD,EAAS,EAAE,OAAO,IAAI,EAAIC,EAC1BC,EAAaJ,EAAaE,CAAQ,CACpC,CAAC,EAEDD,EAAS,iBAAiB,SAAU,GAAK,CACvC,EAAE,eAAc,EACZI,EAAW,GACb,QAAQ,IAAIH,CAAQ,EACpBI,KAEAC,GAEJ,CAAC,EAED,SAASH,EAAaI,EAAKL,EAAO,CAChC,MAAMM,EAAO,KAAK,UAAUN,CAAK,EACjC,aAAa,QAAQK,EAAKC,CAAI,CAChC,CAEA,SAASC,EAAaF,EAAK,CACzB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEF,OADe,KAAK,MAAMG,CAAI,CAE/B,MAAa,CACZ,OAAOA,CACR,CACH,CAEA,SAASL,GAAgB,CACvBJ,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAS,MAAK,EACd,aAAa,WAAWD,CAAW,CACrC,CAEA,SAASK,GAAc,CACrB,OAAOH,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,EACrE,CAEA,SAASK,GAAgB,CACvB,MAAM,wBAAwB,CAChC,CAGA,SAASK,GAAO,CACd,MAAMC,EAAaH,EAAaV,CAAW,EACvCa,IACFX,EAAS,MAAQW,EAAW,OAAS,GACrCX,EAAS,QAAUW,EAAW,SAAW,GACzCZ,EAAS,SAAS,MAAM,MAAQC,EAAS,MACzCD,EAAS,SAAS,QAAQ,MAAQC,EAAS,QAE/C,CACAU,EAAM"}